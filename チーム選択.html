<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>チーム選択画面</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/PBL.css">
</head>
<body>
<header>
<h1>得点入力画面</h1>
</header>
<p>得点変更したいチームを選択してください</p>
<div>
<form action="勝敗選択.html" method="get">
        <input class="example" type="checkbox" name="checkboxState" value="true">
    <label>
        <input type="checkbox" name="checkboxLabel" value="チームB">
        チームB
    </label>
    <br>
    <label>
        <input type="checkbox" name="checkboxLabel" value="チームC">
        チームC
    </label>
    <br>
    <label>
        <input type="checkbox" name="checkboxLabel" value="チームD">
        チームD
    </label>
    <div class="button_line007" style="display: flex;">
    <!-- 他のチームのチェックボックスも追加 -->
    <p style="position: absolute;top: 25%; left: 47%;">得点方式を選択</p>
        <a type="button" href="勝敗選択.html" style="width: 10rem;top: 2rem; margin-right: 5rem;">勝ち負け</a>
        <a type="button" href="点数入力.html" style="width: 10rem;top: 2rem; margin-left: 5rem;">点数</a>
    </div>
    <div class="button_line007" style="display: flex;">
    <a type="button" href="競技選択.html" style="width: 10rem;top: 2rem; margin-left: 30%;">戻る</a>
    </div>
</form>

  </div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        var form = document.querySelector('form');
        form.addEventListener('submit', function(event) {
            var selectedTeams = [];
            var checkboxes = form.querySelectorAll('input[name="checkboxLabel"]:checked');
            checkboxes.forEach(function(checkbox) {
                selectedTeams.push(checkbox.value);
            });
      
            var checkboxState = form.querySelector('input[name="checkboxState"]:checked');
            if (!checkboxState) {
                checkboxState = form.querySelector('input[name="checkboxState"]');
            }
      
            var urlParams = new URLSearchParams();
            urlParams.set('checkboxState', checkboxState.value);
            selectedTeams.forEach(function(team) {
                urlParams.append('checkboxLabel', team);
            });
      
            var nextPageURL = '勝敗選択.html?' + urlParams.toString();
            window.location.href = nextPageURL;
      
            event.preventDefault();
        });
      });
</script>
</body>
</html>